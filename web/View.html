
<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>TripInfo</title>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400italic,400,700' rel='stylesheet' type='text/css'>
    <link href='http://grommet.io/assets/latest/css/grommet.min.css' rel='stylesheet' type='text/css'>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.1/react-with-addons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.1/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <script src="http://grommet.io/assets/latest/grommet.min.js"></script>
</head>
<body>
    <div id="content"></div>
    
    <script type="text/babel">
    var extracts = window.location.toString(); 
    var fileRoot = extracts.substring(extracts.indexOf("?")+1, extracts.indexOf("&"));
    var fileName = extracts.substring(extracts.indexOf("&")+1);
    function getData() {
        var svgname = fileRoot+"-"+fileName+".svg";
        return svgname;
    }

    function getXMLTitle() {
        var xmlname = fileRoot+"-"+fileName+".xml";
        return xmlname;
    }

    function SVG(props) {
        return <img id='map' width="100%" src={props.location}></img>;
    }

    const element = (
        
        <Grommet.App><Grommet.Box pad='medium'>
        <Grommet.Heading align="center">TripCo - Test Build #1</Grommet.Heading>
        <Grommet.Heading align="center" tag="h2">Here is your trip</Grommet.Heading>
        <Grommet.Tabs>
            <Grommet.Tab title="Map">
                <Grommet.Box id="mapBox">
                <SVG location={getData()} />
                </Grommet.Box>
            </Grommet.Tab>
            <Grommet.Tab title="Itinerary">
                <Grommet.Box>
                <iframe src={getXMLTitle()}></iframe>
                </Grommet.Box>
            </Grommet.Tab>
            <Grommet.Tab title="XML">
                <Grommet.Heading tag="h3">Click below for a raw XML itinerary</Grommet.Heading>
                <Grommet.Button label='View XML' href={getXMLTitle()}></Grommet.Button>
            </Grommet.Tab>
        </Grommet.Tabs>
        
        </Grommet.Box></Grommet.App>
    );

    ReactDOM.render(
        element,
        document.getElementById('content')
    );
    </script>
</body>
</html>
